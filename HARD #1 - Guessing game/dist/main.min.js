(function () {
'use strict';

var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();









var inherits = function (subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });
  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
};











var possibleConstructorReturn = function (self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return call && (typeof call === "object" || typeof call === "function") ? call : self;
};

var UIElement = function () {
	function UIElement() {
		classCallCheck(this, UIElement);

		this.element;
	}

	createClass(UIElement, [{
		key: "render",
		value: function render(target) {
			if (target) {
				var targetElement = document.getElementsByClassName(target)[0];
				if (targetElement) {
					targetElement.appendChild(this.element);
				}
			}
		}
	}]);
	return UIElement;
}();

var Button = function (_UIElement) {
	inherits(Button, _UIElement);

	function Button(id, className, text) {
		classCallCheck(this, Button);

		var _this = possibleConstructorReturn(this, (Button.__proto__ || Object.getPrototypeOf(Button)).call(this));

		_this.element = document.createElement('button');
		_this.element.innerText = text;
		_this.element.setAttribute('id', id);
		_this.element.classList.add('btn', className);
		return _this;
	}

	createClass(Button, [{
		key: 'get',
		value: function get$$1() {
			return this.element;
		}
	}, {
		key: 'hide',
		value: function hide() {
			this.element.setAttribute('disabled', 'disabled');
			this.element.style.display = 'none';
		}
	}, {
		key: 'show',
		value: function show() {
			this.element.removeAttribute('disabled');
			this.element.style.dsiplay = 'inline-block';
		}
	}, {
		key: 'event',
		value: function event(_event, callback) {
			console.log('Adding event "' + _event + '" for #' + this.element.getAttribute('id'), callback);
			this.element.addEventListener(_event, callback);
		}
	}]);
	return Button;
}(UIElement);

var Text = function (_UIElement) {
	inherits(Text, _UIElement);

	function Text(text) {
		classCallCheck(this, Text);

		var _this = possibleConstructorReturn(this, (Text.__proto__ || Object.getPrototypeOf(Text)).call(this));

		_this.element = document.createElement('p');
		_this.element.innerText = text;
		_this.element.classList.add('text');
		return _this;
	}

	return Text;
}(UIElement);

var NumberField = function (_UIElement) {
	inherits(NumberField, _UIElement);

	function NumberField(id, className) {
		classCallCheck(this, NumberField);

		var _this = possibleConstructorReturn(this, (NumberField.__proto__ || Object.getPrototypeOf(NumberField)).call(this));

		_this.element = document.createElement('div');
		_this.element.classList.add(className);
		_this.element.setAttribute('id', id);
		return _this;
	}

	return NumberField;
}(UIElement);

var UIHandler = function () {
	function UIHandler() {
		classCallCheck(this, UIHandler);

		// All used UI elements
		this.buttons = {
			start: new Button('play', 'btn--green', 'Play!'),
			higher: new Button('higher', 'btn--green', 'Higher!'),
			lower: new Button('lower', 'btn--red', 'Lower!'),
			correct: new Button('correct', 'btn--blue', 'Correct!'),
			restart: new Button('restart', 'btn--red', 'Restart!')
		};
		this.text = {
			intro: new Text('Let\'s play a number guessing game.'),
			inGame: new Text('Is your number...'),
			impossible: new Text('This game is impossible!'),
			win: new Text('So I finally won the game! Thanks for playing with me. :)')
		};
		this.numberField = new NumberField("numberField", "number");

		// What is rendered on particular stages
		this.mainMenu = {
			game__content: [this.text.intro],
			game__buttons: [this.buttons.start]
		};
		this.gamePlay = {
			game__content: [this.text.inGame, this.numberField],
			game__buttons: [this.buttons.higher, this.buttons.correct, this.buttons.lower]
		};
		this.Impossible = {
			game__content: [this.text.impossible],
			game__buttons: [this.buttons.restart]
		};
		this.Win = {
			game__content: [this.text.win],
			game__buttons: [this.buttons.restart]
		};
	}

	createClass(UIHandler, [{
		key: 'clear',
		value: function clear() {
			console.log('Clearing game');
			document.getElementsByClassName('game__content')[0].innerHTML = '';
			document.getElementsByClassName('game__buttons')[0].innerHTML = '';
		}
	}, {
		key: 'render',
		value: function render(gameStatus) {
			var _this = this;

			this.clear();

			var _loop = function _loop(x) {
				console.log(_this[gameStatus][x]);
				_this[gameStatus][x].forEach(function (element) {
					if (element.render) element.render(x);
				});
			};

			for (var x in this[gameStatus]) {
				_loop(x);
			}
		}
	}, {
		key: 'renderNumber',
		value: function renderNumber(number) {
			this.numberField.element.innerText = number + '?';
		}
	}]);
	return UIHandler;
}();

var Game = function () {
	function Game() {
		classCallCheck(this, Game);

		this.status = 'mainMenu';
		this.lastNumber = 0;
		this.currentNumber = 0;
		this.numbersGuessed = [];

		this.minNumber = 0;
		this.maxNumber = 100;

		this.UI = new UIHandler();
	}

	createClass(Game, [{
		key: 'init',
		value: function init() {
			var _this = this;
			this.setStatus('mainMenu');
			this.UI.buttons['start'].event("click", function () {
				return _this.startGame();
			});
			this.UI.buttons['higher'].event("click", function () {
				return _this.checkAnswer('higher');
			});
			this.UI.buttons['lower'].event("click", function () {
				return _this.checkAnswer('lower');
			});
			this.UI.buttons['correct'].event("click", function () {
				return _this.checkAnswer('correct');
			});
			this.UI.buttons['restart'].event("click", function () {
				return _this.startGame();
			});
		}
	}, {
		key: 'getStatus',
		value: function getStatus() {
			return this.status;
		}
	}, {
		key: 'setStatus',
		value: function setStatus(newStatus) {
			this.status = newStatus;
			this.UI.render(this.getStatus());
		}
	}, {
		key: 'startGame',
		value: function startGame() {
			// restore the defaults
			this.currentNumber = 0;
			this.lastNumber = 0;
			this.numbersGuessed = [];
			this.minNumber = 0;
			this.maxNumber = 100;

			// start the game
			this.setStatus("gamePlay");
			this.generateNumber();
		}
	}, {
		key: 'generateNumber',
		value: function generateNumber() {
			this.currentNumber = this.getRandomNumber();
			this.UI.renderNumber(this.currentNumber);
		}
	}, {
		key: 'checkAnswer',
		value: function checkAnswer(answer) {
			this.lastNumber = this.currentNumber;
			this.numbersGuessed.push(this.currentNumber);

			if (answer == 'higher') {
				this.minNumber = this.lastNumber;
			} else if (answer == 'lower') {
				this.maxNumber = this.lastNumber;
			} else if (answer == 'correct') {
				this.setStatus('Win');
				return true;
			}

			console.log('Numbers: ' + this.numbersGuessed, 'min: ' + this.minNumber, 'max: ' + this.maxNumber);
			if (this.minNumber + 1 >= this.maxNumber) {
				this.setStatus('Impossible');
				return false;
			}
			this.generateNumber();
		}
	}, {
		key: 'getRandomNumber',
		value: function getRandomNumber() {
			do {
				var number = Math.floor(Math.random() * (this.maxNumber - this.minNumber + 1)) + this.minNumber;
			} while (this.numbersGuessed.includes(number) && this.minNumber < this.maxNumber);
			return number;
		}
	}]);
	return Game;
}();

var game = new Game();
game.init();

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9qcy9jbGFzcy5VSUVsZW1lbnQuanMiLCIuLi9zcmMvanMvVUkvQnV0dG9uLmpzIiwiLi4vc3JjL2pzL1VJL1RleHQuanMiLCIuLi9zcmMvanMvVUkvTnVtYmVyRmllbGQuanMiLCIuLi9zcmMvanMvY2xhc3MuVUlIYW5kbGVyLmpzIiwiLi4vc3JjL2pzL2NsYXNzLkdhbWUuanMiLCIuLi9zcmMvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVUlFbGVtZW50IHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuZWxlbWVudDtcclxuXHR9XHJcblx0cmVuZGVyKHRhcmdldCkge1xyXG5cdFx0aWYodGFyZ2V0KSB7XHJcblx0XHRcdHZhciB0YXJnZXRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSh0YXJnZXQpWzBdO1xyXG5cdFx0XHRpZih0YXJnZXRFbGVtZW50KSB7XHJcblx0XHRcdFx0dGFyZ2V0RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59IiwiaW1wb3J0IHsgVUlFbGVtZW50IH0gZnJvbSAnLi4vY2xhc3MuVUlFbGVtZW50LmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBCdXR0b24gZXh0ZW5kcyBVSUVsZW1lbnQge1xyXG5cdGNvbnN0cnVjdG9yKGlkLCBjbGFzc05hbWUsIHRleHQpIHtcclxuXHRcdHN1cGVyKCk7XHJcblx0XHR0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuXHRcdHRoaXMuZWxlbWVudC5pbm5lclRleHQgPSB0ZXh0O1xyXG5cdFx0dGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnaWQnLCBpZCk7XHJcblx0XHR0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYnRuJywgY2xhc3NOYW1lKTtcclxuXHR9XHJcblx0Z2V0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuZWxlbWVudDtcclxuXHR9XHJcblx0aGlkZSgpIHtcclxuXHRcdHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XHJcblx0XHR0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHR9XHJcblx0c2hvdygpIHtcclxuXHRcdHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcblx0XHR0aGlzLmVsZW1lbnQuc3R5bGUuZHNpcGxheSA9ICdpbmxpbmUtYmxvY2snO1xyXG5cdH1cclxuXHRldmVudChldmVudCwgY2FsbGJhY2spIHtcclxuXHRcdGNvbnNvbGUubG9nKCdBZGRpbmcgZXZlbnQgXCInICsgZXZlbnQgKyAnXCIgZm9yICMnICsgdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgnaWQnKSwgY2FsbGJhY2spO1xyXG5cdFx0dGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKTtcclxuXHR9XHJcbn0iLCJpbXBvcnQgeyBVSUVsZW1lbnQgfSBmcm9tICcuLi9jbGFzcy5VSUVsZW1lbnQuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRleHQgZXh0ZW5kcyBVSUVsZW1lbnQge1xyXG5cdGNvbnN0cnVjdG9yKHRleHQpIHtcclxuXHRcdHN1cGVyKCk7XHJcblx0XHR0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XHJcblx0XHR0aGlzLmVsZW1lbnQuaW5uZXJUZXh0ID0gdGV4dDtcclxuXHRcdHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd0ZXh0Jyk7XHJcblx0fVxyXG59IiwiaW1wb3J0IHsgVUlFbGVtZW50IH0gZnJvbSAnLi4vY2xhc3MuVUlFbGVtZW50LmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBOdW1iZXJGaWVsZCBleHRlbmRzIFVJRWxlbWVudCB7XHJcblx0Y29uc3RydWN0b3IoaWQsIGNsYXNzTmFtZSkge1xyXG5cdFx0c3VwZXIoKTtcclxuXHRcdHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0dGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcclxuXHRcdHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2lkJywgaWQpO1xyXG5cdH1cclxufSIsImltcG9ydCB7IFVJRWxlbWVudCB9IGZyb20gJy4vY2xhc3MuVUlFbGVtZW50LmpzJztcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi9VSS9CdXR0b24uanMnO1xyXG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAnLi9VSS9UZXh0LmpzJztcclxuaW1wb3J0IHsgTnVtYmVyRmllbGQgfSBmcm9tICcuL1VJL051bWJlckZpZWxkLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBVSUhhbmRsZXIge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0Ly8gQWxsIHVzZWQgVUkgZWxlbWVudHNcclxuXHRcdHRoaXMuYnV0dG9ucyA9IHtcclxuXHRcdFx0c3RhcnQ6IG5ldyBCdXR0b24oJ3BsYXknLCAnYnRuLS1ncmVlbicsICdQbGF5IScpLFxyXG5cdFx0XHRoaWdoZXI6IG5ldyBCdXR0b24oJ2hpZ2hlcicsICdidG4tLWdyZWVuJywgJ0hpZ2hlciEnKSxcclxuXHRcdFx0bG93ZXI6IG5ldyBCdXR0b24oJ2xvd2VyJywgJ2J0bi0tcmVkJywgJ0xvd2VyIScpLFxyXG5cdFx0XHRjb3JyZWN0OiBuZXcgQnV0dG9uKCdjb3JyZWN0JywgJ2J0bi0tYmx1ZScsICdDb3JyZWN0IScpLFxyXG5cdFx0XHRyZXN0YXJ0OiBuZXcgQnV0dG9uKCdyZXN0YXJ0JywgJ2J0bi0tcmVkJywgJ1Jlc3RhcnQhJylcclxuXHRcdH07XHJcblx0XHR0aGlzLnRleHQgPSB7XHJcblx0XHRcdGludHJvOiBuZXcgVGV4dCgnTGV0XFwncyBwbGF5IGEgbnVtYmVyIGd1ZXNzaW5nIGdhbWUuJyksXHJcblx0XHRcdGluR2FtZTogbmV3IFRleHQoJ0lzIHlvdXIgbnVtYmVyLi4uJyksXHJcblx0XHRcdGltcG9zc2libGU6IG5ldyBUZXh0KCdUaGlzIGdhbWUgaXMgaW1wb3NzaWJsZSEnKSxcclxuXHRcdFx0d2luOiBuZXcgVGV4dCgnU28gSSBmaW5hbGx5IHdvbiB0aGUgZ2FtZSEgVGhhbmtzIGZvciBwbGF5aW5nIHdpdGggbWUuIDopJylcclxuXHRcdH07XHJcblx0XHR0aGlzLm51bWJlckZpZWxkID0gbmV3IE51bWJlckZpZWxkKFwibnVtYmVyRmllbGRcIiwgXCJudW1iZXJcIik7XHJcblxyXG5cdFx0Ly8gV2hhdCBpcyByZW5kZXJlZCBvbiBwYXJ0aWN1bGFyIHN0YWdlc1xyXG5cdFx0dGhpcy5tYWluTWVudSA9IHtcclxuXHRcdFx0Z2FtZV9fY29udGVudDogW3RoaXMudGV4dC5pbnRyb10sXHJcblx0XHRcdGdhbWVfX2J1dHRvbnM6IFt0aGlzLmJ1dHRvbnMuc3RhcnRdXHJcblx0XHR9O1xyXG5cdFx0dGhpcy5nYW1lUGxheSA9IHtcclxuXHRcdFx0Z2FtZV9fY29udGVudDogW3RoaXMudGV4dC5pbkdhbWUsIHRoaXMubnVtYmVyRmllbGRdLFxyXG5cdFx0XHRnYW1lX19idXR0b25zOiBbdGhpcy5idXR0b25zLmhpZ2hlciwgdGhpcy5idXR0b25zLmNvcnJlY3QsIHRoaXMuYnV0dG9ucy5sb3dlcl1cclxuXHRcdH07XHJcblx0XHR0aGlzLkltcG9zc2libGUgPSB7XHJcblx0XHRcdGdhbWVfX2NvbnRlbnQ6IFt0aGlzLnRleHQuaW1wb3NzaWJsZV0sXHJcblx0XHRcdGdhbWVfX2J1dHRvbnM6IFt0aGlzLmJ1dHRvbnMucmVzdGFydF1cclxuXHRcdH1cclxuXHRcdHRoaXMuV2luID0ge1xyXG5cdFx0XHRnYW1lX19jb250ZW50OiBbdGhpcy50ZXh0Lndpbl0sXHJcblx0XHRcdGdhbWVfX2J1dHRvbnM6IFt0aGlzLmJ1dHRvbnMucmVzdGFydF1cclxuXHRcdH1cclxuXHR9XHJcblx0Y2xlYXIoKSB7XHJcblx0XHRjb25zb2xlLmxvZygnQ2xlYXJpbmcgZ2FtZScpO1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZ2FtZV9fY29udGVudCcpWzBdLmlubmVySFRNTCA9ICcnO1xyXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZ2FtZV9fYnV0dG9ucycpWzBdLmlubmVySFRNTCA9ICcnO1xyXG5cdH1cclxuXHRyZW5kZXIoZ2FtZVN0YXR1cykge1xyXG5cdFx0dGhpcy5jbGVhcigpO1xyXG5cdFx0Zm9yKGxldCB4IGluIHRoaXNbZ2FtZVN0YXR1c10pIHtcclxuXHRcdFx0Y29uc29sZS5sb2codGhpc1tnYW1lU3RhdHVzXVt4XSk7XHJcblx0XHRcdHRoaXNbZ2FtZVN0YXR1c11beF0uZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG5cdFx0XHRcdGlmKGVsZW1lbnQucmVuZGVyKVxyXG5cdFx0XHRcdFx0ZWxlbWVudC5yZW5kZXIoeCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZW5kZXJOdW1iZXIobnVtYmVyKSB7XHJcblx0XHR0aGlzLm51bWJlckZpZWxkLmVsZW1lbnQuaW5uZXJUZXh0ID0gbnVtYmVyICsgJz8nO1xyXG5cdH1cclxufSIsImltcG9ydCB7IFVJSGFuZGxlciB9IGZyb20gJy4vY2xhc3MuVUlIYW5kbGVyLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuc3RhdHVzID0gJ21haW5NZW51JztcclxuXHRcdHRoaXMubGFzdE51bWJlciA9IDA7XHJcblx0XHR0aGlzLmN1cnJlbnROdW1iZXIgPSAwO1xyXG5cdFx0dGhpcy5udW1iZXJzR3Vlc3NlZCA9IFtdO1xyXG5cclxuXHRcdHRoaXMubWluTnVtYmVyID0gMDtcclxuXHRcdHRoaXMubWF4TnVtYmVyID0gMTAwO1xyXG5cclxuXHRcdHRoaXMuVUkgPSBuZXcgVUlIYW5kbGVyO1xyXG5cdH1cclxuXHRpbml0KCkge1xyXG5cdFx0dmFyIF90aGlzID0gdGhpcztcclxuXHRcdHRoaXMuc2V0U3RhdHVzKCdtYWluTWVudScpO1xyXG5cdFx0dGhpcy5VSS5idXR0b25zWydzdGFydCddLmV2ZW50KFwiY2xpY2tcIiwgKCgpID0+IF90aGlzLnN0YXJ0R2FtZSgpKSk7XHJcblx0XHR0aGlzLlVJLmJ1dHRvbnNbJ2hpZ2hlciddLmV2ZW50KFwiY2xpY2tcIiwgKCgpID0+IF90aGlzLmNoZWNrQW5zd2VyKCdoaWdoZXInKSkpO1xyXG5cdFx0dGhpcy5VSS5idXR0b25zWydsb3dlciddLmV2ZW50KFwiY2xpY2tcIiwgKCgpID0+IF90aGlzLmNoZWNrQW5zd2VyKCdsb3dlcicpKSk7XHJcblx0XHR0aGlzLlVJLmJ1dHRvbnNbJ2NvcnJlY3QnXS5ldmVudChcImNsaWNrXCIsICgoKSA9PiBfdGhpcy5jaGVja0Fuc3dlcignY29ycmVjdCcpKSk7XHJcblx0XHR0aGlzLlVJLmJ1dHRvbnNbJ3Jlc3RhcnQnXS5ldmVudChcImNsaWNrXCIsICgoKSA9PiBfdGhpcy5zdGFydEdhbWUoKSkpO1xyXG5cdH1cclxuXHRnZXRTdGF0dXMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5zdGF0dXM7XHJcblx0fVxyXG5cdHNldFN0YXR1cyhuZXdTdGF0dXMpIHtcclxuXHRcdHRoaXMuc3RhdHVzID0gbmV3U3RhdHVzO1xyXG5cdFx0dGhpcy5VSS5yZW5kZXIodGhpcy5nZXRTdGF0dXMoKSk7XHJcblx0fVxyXG5cdHN0YXJ0R2FtZSgpIHtcclxuXHRcdC8vIHJlc3RvcmUgdGhlIGRlZmF1bHRzXHJcblx0XHR0aGlzLmN1cnJlbnROdW1iZXIgPSAwO1xyXG5cdFx0dGhpcy5sYXN0TnVtYmVyID0gMDtcclxuXHRcdHRoaXMubnVtYmVyc0d1ZXNzZWQgPSBbXTtcclxuXHRcdHRoaXMubWluTnVtYmVyID0gMDtcclxuXHRcdHRoaXMubWF4TnVtYmVyID0gMTAwO1xyXG5cclxuXHRcdC8vIHN0YXJ0IHRoZSBnYW1lXHJcblx0XHR0aGlzLnNldFN0YXR1cyhcImdhbWVQbGF5XCIpO1xyXG5cdFx0dGhpcy5nZW5lcmF0ZU51bWJlcigpO1xyXG5cdH1cclxuXHRnZW5lcmF0ZU51bWJlcigpIHtcclxuXHRcdHRoaXMuY3VycmVudE51bWJlciA9IHRoaXMuZ2V0UmFuZG9tTnVtYmVyKCk7XHJcblx0XHR0aGlzLlVJLnJlbmRlck51bWJlcih0aGlzLmN1cnJlbnROdW1iZXIpO1xyXG5cdH1cclxuXHRjaGVja0Fuc3dlcihhbnN3ZXIpIHtcclxuXHRcdHRoaXMubGFzdE51bWJlciA9IHRoaXMuY3VycmVudE51bWJlcjtcclxuXHRcdHRoaXMubnVtYmVyc0d1ZXNzZWQucHVzaCh0aGlzLmN1cnJlbnROdW1iZXIpO1xyXG5cclxuXHRcdGlmKGFuc3dlciA9PSAnaGlnaGVyJykge1xyXG5cdFx0XHR0aGlzLm1pbk51bWJlciA9IHRoaXMubGFzdE51bWJlcjtcclxuXHRcdH0gZWxzZSBpZihhbnN3ZXIgPT0gJ2xvd2VyJykge1xyXG5cdFx0XHR0aGlzLm1heE51bWJlciA9IHRoaXMubGFzdE51bWJlcjtcclxuXHRcdH0gZWxzZSBpZihhbnN3ZXIgPT0gJ2NvcnJlY3QnKSB7XHJcblx0XHRcdHRoaXMuc2V0U3RhdHVzKCdXaW4nKTtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc29sZS5sb2coJ051bWJlcnM6ICcgKyB0aGlzLm51bWJlcnNHdWVzc2VkLCAnbWluOiAnICsgdGhpcy5taW5OdW1iZXIsICdtYXg6ICcgKyB0aGlzLm1heE51bWJlcik7XHJcblx0XHRpZih0aGlzLm1pbk51bWJlcisxID49IHRoaXMubWF4TnVtYmVyKSB7XHJcblx0XHRcdHRoaXMuc2V0U3RhdHVzKCdJbXBvc3NpYmxlJyk7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHRcdHRoaXMuZ2VuZXJhdGVOdW1iZXIoKTtcclxuXHR9XHJcblx0Z2V0UmFuZG9tTnVtYmVyKCkge1xyXG5cdFx0ZG8ge1xyXG5cdFx0XHR2YXIgbnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHRoaXMubWF4TnVtYmVyIC0gdGhpcy5taW5OdW1iZXIgKyAxKSkgKyB0aGlzLm1pbk51bWJlcjtcclxuXHRcdH0gd2hpbGUodGhpcy5udW1iZXJzR3Vlc3NlZC5pbmNsdWRlcyhudW1iZXIpICYmIHRoaXMubWluTnVtYmVyIDwgdGhpcy5tYXhOdW1iZXIpO1xyXG5cdFx0cmV0dXJuIG51bWJlcjtcclxuXHR9XHJcbn0iLCJpbXBvcnQgeyBHYW1lIH0gZnJvbSAnLi9qcy9jbGFzcy5HYW1lLmpzJztcclxuXHJcbnZhciBnYW1lID0gbmV3IEdhbWU7XHJcbmdhbWUuaW5pdCgpOyJdLCJuYW1lcyI6WyJVSUVsZW1lbnQiLCJlbGVtZW50IiwidGFyZ2V0IiwidGFyZ2V0RWxlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImFwcGVuZENoaWxkIiwiQnV0dG9uIiwiaWQiLCJjbGFzc05hbWUiLCJ0ZXh0IiwiY3JlYXRlRWxlbWVudCIsImlubmVyVGV4dCIsInNldEF0dHJpYnV0ZSIsImNsYXNzTGlzdCIsImFkZCIsInN0eWxlIiwiZGlzcGxheSIsInJlbW92ZUF0dHJpYnV0ZSIsImRzaXBsYXkiLCJldmVudCIsImNhbGxiYWNrIiwibG9nIiwiZ2V0QXR0cmlidXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIlRleHQiLCJOdW1iZXJGaWVsZCIsIlVJSGFuZGxlciIsImJ1dHRvbnMiLCJudW1iZXJGaWVsZCIsIm1haW5NZW51IiwiaW50cm8iLCJzdGFydCIsImdhbWVQbGF5IiwiaW5HYW1lIiwiaGlnaGVyIiwiY29ycmVjdCIsImxvd2VyIiwiSW1wb3NzaWJsZSIsImltcG9zc2libGUiLCJyZXN0YXJ0IiwiV2luIiwid2luIiwiaW5uZXJIVE1MIiwiZ2FtZVN0YXR1cyIsImNsZWFyIiwieCIsImZvckVhY2giLCJyZW5kZXIiLCJudW1iZXIiLCJHYW1lIiwic3RhdHVzIiwibGFzdE51bWJlciIsImN1cnJlbnROdW1iZXIiLCJudW1iZXJzR3Vlc3NlZCIsIm1pbk51bWJlciIsIm1heE51bWJlciIsIlVJIiwiX3RoaXMiLCJzZXRTdGF0dXMiLCJzdGFydEdhbWUiLCJjaGVja0Fuc3dlciIsIm5ld1N0YXR1cyIsImdldFN0YXR1cyIsImdlbmVyYXRlTnVtYmVyIiwiZ2V0UmFuZG9tTnVtYmVyIiwicmVuZGVyTnVtYmVyIiwiYW5zd2VyIiwicHVzaCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImluY2x1ZGVzIiwiZ2FtZSIsImluaXQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUFhQSxTQUFiO3NCQUNlOzs7T0FDUkMsT0FBTDs7Ozs7eUJBRU1DLE1BSlIsRUFJZ0I7T0FDWEEsTUFBSCxFQUFXO1FBQ05DLGdCQUFnQkMsU0FBU0Msc0JBQVQsQ0FBZ0NILE1BQWhDLEVBQXdDLENBQXhDLENBQXBCO1FBQ0dDLGFBQUgsRUFBa0I7bUJBQ0hHLFdBQWQsQ0FBMEIsS0FBS0wsT0FBL0I7Ozs7Ozs7O0lDTlNNOzs7aUJBQ0FDLEVBQVosRUFBZ0JDLFNBQWhCLEVBQTJCQyxJQUEzQixFQUFpQzs7Ozs7UUFFM0JULE9BQUwsR0FBZUcsU0FBU08sYUFBVCxDQUF1QixRQUF2QixDQUFmO1FBQ0tWLE9BQUwsQ0FBYVcsU0FBYixHQUF5QkYsSUFBekI7UUFDS1QsT0FBTCxDQUFhWSxZQUFiLENBQTBCLElBQTFCLEVBQWdDTCxFQUFoQztRQUNLUCxPQUFMLENBQWFhLFNBQWIsQ0FBdUJDLEdBQXZCLENBQTJCLEtBQTNCLEVBQWtDTixTQUFsQzs7Ozs7OzJCQUVLO1VBQ0UsS0FBS1IsT0FBWjs7Ozt5QkFFTTtRQUNEQSxPQUFMLENBQWFZLFlBQWIsQ0FBMEIsVUFBMUIsRUFBc0MsVUFBdEM7UUFDS1osT0FBTCxDQUFhZSxLQUFiLENBQW1CQyxPQUFuQixHQUE2QixNQUE3Qjs7Ozt5QkFFTTtRQUNEaEIsT0FBTCxDQUFhaUIsZUFBYixDQUE2QixV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
