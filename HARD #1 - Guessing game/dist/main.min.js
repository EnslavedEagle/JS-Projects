(function () {
'use strict';

var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();









var inherits = function (subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });
  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
};











var possibleConstructorReturn = function (self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return call && (typeof call === "object" || typeof call === "function") ? call : self;
};

var UIElement = function () {
	function UIElement() {
		classCallCheck(this, UIElement);

		this.element;
	}

	createClass(UIElement, [{
		key: "render",
		value: function render(target) {
			if (target) {
				var targetElement = document.getElementsByClassName(target)[0];
				if (targetElement) {
					targetElement.appendChild(this.element);
				}
			}
		}
	}]);
	return UIElement;
}();

var Button = function (_UIElement) {
	inherits(Button, _UIElement);

	function Button(id, className, text) {
		classCallCheck(this, Button);

		var _this = possibleConstructorReturn(this, (Button.__proto__ || Object.getPrototypeOf(Button)).call(this));

		_this.element = document.createElement('button');
		_this.element.innerText = text;
		_this.element.setAttribute('id', id);
		_this.element.classList.add('btn', className);
		return _this;
	}

	createClass(Button, [{
		key: 'event',
		value: function event(_event, callback) {
			this.element.addEventListener(_event, callback);
		}
	}]);
	return Button;
}(UIElement);

var Text = function (_UIElement) {
	inherits(Text, _UIElement);

	function Text(text) {
		classCallCheck(this, Text);

		var _this = possibleConstructorReturn(this, (Text.__proto__ || Object.getPrototypeOf(Text)).call(this));

		_this.element = document.createElement('p');
		_this.element.innerText = text;
		_this.element.classList.add('text');
		return _this;
	}

	return Text;
}(UIElement);

var NumberField = function (_UIElement) {
	inherits(NumberField, _UIElement);

	function NumberField(id, className) {
		classCallCheck(this, NumberField);

		var _this = possibleConstructorReturn(this, (NumberField.__proto__ || Object.getPrototypeOf(NumberField)).call(this));

		_this.element = document.createElement('div');
		_this.element.classList.add(className);
		_this.element.setAttribute('id', id);
		return _this;
	}

	return NumberField;
}(UIElement);

var UIHandler = function () {
	function UIHandler() {
		classCallCheck(this, UIHandler);

		// All used UI elements
		this.buttons = {
			start: new Button('play', 'btn--green', 'Play!'),
			higher: new Button('higher', 'btn--green', 'Higher!'),
			lower: new Button('lower', 'btn--red', 'Lower!'),
			correct: new Button('correct', 'btn--blue', 'Correct!'),
			restart: new Button('restart', 'btn--red', 'Restart!')
		};
		this.text = {
			intro: new Text('Let\'s play a number guessing game.'),
			inGame: new Text('Is your number...'),
			impossible: new Text('This game is impossible!'),
			win: new Text('So I finally won the game! Thanks for playing with me. :)')
		};
		this.numberField = new NumberField("numberField", "number");

		// What is rendered on particular stages
		this.mainMenu = {
			game__content: [this.text.intro],
			game__buttons: [this.buttons.start]
		};
		this.gamePlay = {
			game__content: [this.text.inGame, this.numberField],
			game__buttons: [this.buttons.higher, this.buttons.correct, this.buttons.lower]
		};
		this.Impossible = {
			game__content: [this.text.impossible],
			game__buttons: [this.buttons.restart]
		};
		this.Win = {
			game__content: [this.text.win],
			game__buttons: [this.buttons.restart]
		};
	}

	createClass(UIHandler, [{
		key: 'clear',
		value: function clear() {
			document.getElementsByClassName('game__content')[0].innerHTML = '';
			document.getElementsByClassName('game__buttons')[0].innerHTML = '';
		}
	}, {
		key: 'render',
		value: function render(gameStatus) {
			var _this = this;

			this.clear();

			var _loop = function _loop(x) {
				_this[gameStatus][x].forEach(function (element) {
					if (element.render) element.render(x);
				});
			};

			for (var x in this[gameStatus]) {
				_loop(x);
			}
		}
	}, {
		key: 'renderNumber',
		value: function renderNumber(number) {
			this.numberField.element.innerText = number + '?';
		}
	}]);
	return UIHandler;
}();

var Game = function () {
	function Game() {
		classCallCheck(this, Game);

		this.status = 'mainMenu';
		this.lastNumber = 0;
		this.currentNumber = 0;
		this.numbersGuessed = [];

		this.minNumber = 0;
		this.maxNumber = 100;

		this.UI = new UIHandler();
	}

	createClass(Game, [{
		key: 'init',
		value: function init() {
			var _this = this;
			this.setStatus('mainMenu');
			this.UI.buttons['start'].event("click", function () {
				return _this.startGame();
			});
			this.UI.buttons['higher'].event("click", function () {
				return _this.checkAnswer('higher');
			});
			this.UI.buttons['lower'].event("click", function () {
				return _this.checkAnswer('lower');
			});
			this.UI.buttons['correct'].event("click", function () {
				return _this.checkAnswer('correct');
			});
			this.UI.buttons['restart'].event("click", function () {
				return _this.startGame();
			});
		}
	}, {
		key: 'getStatus',
		value: function getStatus() {
			return this.status;
		}
	}, {
		key: 'setStatus',
		value: function setStatus(newStatus) {
			this.status = newStatus;
			this.UI.render(this.getStatus());
		}
	}, {
		key: 'startGame',
		value: function startGame() {
			// restore the defaults
			this.currentNumber = 0;
			this.lastNumber = 0;
			this.numbersGuessed = [];
			this.minNumber = 0;
			this.maxNumber = 100;

			// start the game
			this.setStatus('gamePlay');
			this.generateNumber();
		}
	}, {
		key: 'generateNumber',
		value: function generateNumber() {
			this.currentNumber = this.getRandomNumber();
			this.UI.renderNumber(this.currentNumber);
		}
	}, {
		key: 'checkAnswer',
		value: function checkAnswer(answer) {
			this.lastNumber = this.currentNumber;
			this.numbersGuessed.push(this.currentNumber);

			if (answer == 'higher') {
				this.minNumber = this.lastNumber;
			} else if (answer == 'lower') {
				this.maxNumber = this.lastNumber;
			} else if (answer == 'correct') {
				this.setStatus('Win');
				return true;
			}

			if (this.minNumber + 1 >= this.maxNumber) {
				this.setStatus('Impossible');
				return false;
			}
			this.generateNumber();
		}
	}, {
		key: 'getRandomNumber',
		value: function getRandomNumber() {
			do {
				var number = Math.floor(Math.random() * (this.maxNumber - this.minNumber + 1)) + this.minNumber;
			} while (this.numbersGuessed.includes(number) && this.minNumber < this.maxNumber);
			return number;
		}
	}]);
	return Game;
}();

var game = new Game();
game.init();

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9qcy9jbGFzcy5VSUVsZW1lbnQuanMiLCIuLi9zcmMvanMvVUkvQnV0dG9uLmpzIiwiLi4vc3JjL2pzL1VJL1RleHQuanMiLCIuLi9zcmMvanMvVUkvTnVtYmVyRmllbGQuanMiLCIuLi9zcmMvanMvY2xhc3MuVUlIYW5kbGVyLmpzIiwiLi4vc3JjL2pzL2NsYXNzLkdhbWUuanMiLCIuLi9zcmMvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVUlFbGVtZW50IHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuZWxlbWVudDtcclxuXHR9XHJcblx0cmVuZGVyKHRhcmdldCkge1xyXG5cdFx0aWYodGFyZ2V0KSB7XHJcblx0XHRcdHZhciB0YXJnZXRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSh0YXJnZXQpWzBdO1xyXG5cdFx0XHRpZih0YXJnZXRFbGVtZW50KSB7XHJcblx0XHRcdFx0dGFyZ2V0RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59IiwiaW1wb3J0IHsgVUlFbGVtZW50IH0gZnJvbSAnLi4vY2xhc3MuVUlFbGVtZW50LmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBCdXR0b24gZXh0ZW5kcyBVSUVsZW1lbnQge1xyXG5cdGNvbnN0cnVjdG9yKGlkLCBjbGFzc05hbWUsIHRleHQpIHtcclxuXHRcdHN1cGVyKCk7XHJcblx0XHR0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuXHRcdHRoaXMuZWxlbWVudC5pbm5lclRleHQgPSB0ZXh0O1xyXG5cdFx0dGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnaWQnLCBpZCk7XHJcblx0XHR0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYnRuJywgY2xhc3NOYW1lKTtcclxuXHR9XHJcblx0ZXZlbnQoZXZlbnQsIGNhbGxiYWNrKSB7XHJcblx0XHR0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgY2FsbGJhY2spO1xyXG5cdH1cclxufSIsImltcG9ydCB7IFVJRWxlbWVudCB9IGZyb20gJy4uL2NsYXNzLlVJRWxlbWVudC5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgVGV4dCBleHRlbmRzIFVJRWxlbWVudCB7XHJcblx0Y29uc3RydWN0b3IodGV4dCkge1xyXG5cdFx0c3VwZXIoKTtcclxuXHRcdHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuXHRcdHRoaXMuZWxlbWVudC5pbm5lclRleHQgPSB0ZXh0O1xyXG5cdFx0dGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3RleHQnKTtcclxuXHR9XHJcbn0iLCJpbXBvcnQgeyBVSUVsZW1lbnQgfSBmcm9tICcuLi9jbGFzcy5VSUVsZW1lbnQuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE51bWJlckZpZWxkIGV4dGVuZHMgVUlFbGVtZW50IHtcclxuXHRjb25zdHJ1Y3RvcihpZCwgY2xhc3NOYW1lKSB7XHJcblx0XHRzdXBlcigpO1xyXG5cdFx0dGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHR0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xyXG5cdFx0dGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnaWQnLCBpZCk7XHJcblx0fVxyXG59IiwiaW1wb3J0IHsgVUlFbGVtZW50IH0gZnJvbSAnLi9jbGFzcy5VSUVsZW1lbnQuanMnO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuL1VJL0J1dHRvbi5qcyc7XHJcbmltcG9ydCB7IFRleHQgfSBmcm9tICcuL1VJL1RleHQuanMnO1xyXG5pbXBvcnQgeyBOdW1iZXJGaWVsZCB9IGZyb20gJy4vVUkvTnVtYmVyRmllbGQuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFVJSGFuZGxlciB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHQvLyBBbGwgdXNlZCBVSSBlbGVtZW50c1xyXG5cdFx0dGhpcy5idXR0b25zID0ge1xyXG5cdFx0XHRzdGFydDogbmV3IEJ1dHRvbigncGxheScsICdidG4tLWdyZWVuJywgJ1BsYXkhJyksXHJcblx0XHRcdGhpZ2hlcjogbmV3IEJ1dHRvbignaGlnaGVyJywgJ2J0bi0tZ3JlZW4nLCAnSGlnaGVyIScpLFxyXG5cdFx0XHRsb3dlcjogbmV3IEJ1dHRvbignbG93ZXInLCAnYnRuLS1yZWQnLCAnTG93ZXIhJyksXHJcblx0XHRcdGNvcnJlY3Q6IG5ldyBCdXR0b24oJ2NvcnJlY3QnLCAnYnRuLS1ibHVlJywgJ0NvcnJlY3QhJyksXHJcblx0XHRcdHJlc3RhcnQ6IG5ldyBCdXR0b24oJ3Jlc3RhcnQnLCAnYnRuLS1yZWQnLCAnUmVzdGFydCEnKVxyXG5cdFx0fTtcclxuXHRcdHRoaXMudGV4dCA9IHtcclxuXHRcdFx0aW50cm86IG5ldyBUZXh0KCdMZXRcXCdzIHBsYXkgYSBudW1iZXIgZ3Vlc3NpbmcgZ2FtZS4nKSxcclxuXHRcdFx0aW5HYW1lOiBuZXcgVGV4dCgnSXMgeW91ciBudW1iZXIuLi4nKSxcclxuXHRcdFx0aW1wb3NzaWJsZTogbmV3IFRleHQoJ1RoaXMgZ2FtZSBpcyBpbXBvc3NpYmxlIScpLFxyXG5cdFx0XHR3aW46IG5ldyBUZXh0KCdTbyBJIGZpbmFsbHkgd29uIHRoZSBnYW1lISBUaGFua3MgZm9yIHBsYXlpbmcgd2l0aCBtZS4gOiknKVxyXG5cdFx0fTtcclxuXHRcdHRoaXMubnVtYmVyRmllbGQgPSBuZXcgTnVtYmVyRmllbGQoXCJudW1iZXJGaWVsZFwiLCBcIm51bWJlclwiKTtcclxuXHJcblx0XHQvLyBXaGF0IGlzIHJlbmRlcmVkIG9uIHBhcnRpY3VsYXIgc3RhZ2VzXHJcblx0XHR0aGlzLm1haW5NZW51ID0ge1xyXG5cdFx0XHRnYW1lX19jb250ZW50OiBbdGhpcy50ZXh0LmludHJvXSxcclxuXHRcdFx0Z2FtZV9fYnV0dG9uczogW3RoaXMuYnV0dG9ucy5zdGFydF1cclxuXHRcdH07XHJcblx0XHR0aGlzLmdhbWVQbGF5ID0ge1xyXG5cdFx0XHRnYW1lX19jb250ZW50OiBbdGhpcy50ZXh0LmluR2FtZSwgdGhpcy5udW1iZXJGaWVsZF0sXHJcblx0XHRcdGdhbWVfX2J1dHRvbnM6IFt0aGlzLmJ1dHRvbnMuaGlnaGVyLCB0aGlzLmJ1dHRvbnMuY29ycmVjdCwgdGhpcy5idXR0b25zLmxvd2VyXVxyXG5cdFx0fTtcclxuXHRcdHRoaXMuSW1wb3NzaWJsZSA9IHtcclxuXHRcdFx0Z2FtZV9fY29udGVudDogW3RoaXMudGV4dC5pbXBvc3NpYmxlXSxcclxuXHRcdFx0Z2FtZV9fYnV0dG9uczogW3RoaXMuYnV0dG9ucy5yZXN0YXJ0XVxyXG5cdFx0fVxyXG5cdFx0dGhpcy5XaW4gPSB7XHJcblx0XHRcdGdhbWVfX2NvbnRlbnQ6IFt0aGlzLnRleHQud2luXSxcclxuXHRcdFx0Z2FtZV9fYnV0dG9uczogW3RoaXMuYnV0dG9ucy5yZXN0YXJ0XVxyXG5cdFx0fVxyXG5cdH1cclxuXHRjbGVhcigpIHtcclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2dhbWVfX2NvbnRlbnQnKVswXS5pbm5lckhUTUwgPSAnJztcclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2dhbWVfX2J1dHRvbnMnKVswXS5pbm5lckhUTUwgPSAnJztcclxuXHR9XHJcblx0cmVuZGVyKGdhbWVTdGF0dXMpIHtcclxuXHRcdHRoaXMuY2xlYXIoKTtcclxuXHRcdGZvcihsZXQgeCBpbiB0aGlzW2dhbWVTdGF0dXNdKSB7XHJcblx0XHRcdHRoaXNbZ2FtZVN0YXR1c11beF0uZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG5cdFx0XHRcdGlmKGVsZW1lbnQucmVuZGVyKVxyXG5cdFx0XHRcdFx0ZWxlbWVudC5yZW5kZXIoeCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZW5kZXJOdW1iZXIobnVtYmVyKSB7XHJcblx0XHR0aGlzLm51bWJlckZpZWxkLmVsZW1lbnQuaW5uZXJUZXh0ID0gbnVtYmVyICsgJz8nO1xyXG5cdH1cclxufSIsImltcG9ydCB7IFVJSGFuZGxlciB9IGZyb20gJy4vY2xhc3MuVUlIYW5kbGVyLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuc3RhdHVzID0gJ21haW5NZW51JztcclxuXHRcdHRoaXMubGFzdE51bWJlciA9IDA7XHJcblx0XHR0aGlzLmN1cnJlbnROdW1iZXIgPSAwO1xyXG5cdFx0dGhpcy5udW1iZXJzR3Vlc3NlZCA9IFtdO1xyXG5cclxuXHRcdHRoaXMubWluTnVtYmVyID0gMDtcclxuXHRcdHRoaXMubWF4TnVtYmVyID0gMTAwO1xyXG5cclxuXHRcdHRoaXMuVUkgPSBuZXcgVUlIYW5kbGVyO1xyXG5cdH1cclxuXHRpbml0KCkge1xyXG5cdFx0dmFyIF90aGlzID0gdGhpcztcclxuXHRcdHRoaXMuc2V0U3RhdHVzKCdtYWluTWVudScpO1xyXG5cdFx0dGhpcy5VSS5idXR0b25zWydzdGFydCddLmV2ZW50KFwiY2xpY2tcIiwgKCgpID0+IF90aGlzLnN0YXJ0R2FtZSgpKSk7XHJcblx0XHR0aGlzLlVJLmJ1dHRvbnNbJ2hpZ2hlciddLmV2ZW50KFwiY2xpY2tcIiwgKCgpID0+IF90aGlzLmNoZWNrQW5zd2VyKCdoaWdoZXInKSkpO1xyXG5cdFx0dGhpcy5VSS5idXR0b25zWydsb3dlciddLmV2ZW50KFwiY2xpY2tcIiwgKCgpID0+IF90aGlzLmNoZWNrQW5zd2VyKCdsb3dlcicpKSk7XHJcblx0XHR0aGlzLlVJLmJ1dHRvbnNbJ2NvcnJlY3QnXS5ldmVudChcImNsaWNrXCIsICgoKSA9PiBfdGhpcy5jaGVja0Fuc3dlcignY29ycmVjdCcpKSk7XHJcblx0XHR0aGlzLlVJLmJ1dHRvbnNbJ3Jlc3RhcnQnXS5ldmVudChcImNsaWNrXCIsICgoKSA9PiBfdGhpcy5zdGFydEdhbWUoKSkpO1xyXG5cdH1cclxuXHRnZXRTdGF0dXMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5zdGF0dXM7XHJcblx0fVxyXG5cdHNldFN0YXR1cyhuZXdTdGF0dXMpIHtcclxuXHRcdHRoaXMuc3RhdHVzID0gbmV3U3RhdHVzO1xyXG5cdFx0dGhpcy5VSS5yZW5kZXIodGhpcy5nZXRTdGF0dXMoKSk7XHJcblx0fVxyXG5cdHN0YXJ0R2FtZSgpIHtcclxuXHRcdC8vIHJlc3RvcmUgdGhlIGRlZmF1bHRzXHJcblx0XHR0aGlzLmN1cnJlbnROdW1iZXIgPSAwO1xyXG5cdFx0dGhpcy5sYXN0TnVtYmVyID0gMDtcclxuXHRcdHRoaXMubnVtYmVyc0d1ZXNzZWQgPSBbXTtcclxuXHRcdHRoaXMubWluTnVtYmVyID0gMDtcclxuXHRcdHRoaXMubWF4TnVtYmVyID0gMTAwO1xyXG5cclxuXHRcdC8vIHN0YXJ0IHRoZSBnYW1lXHJcblx0XHR0aGlzLnNldFN0YXR1cygnZ2FtZVBsYXknKTtcclxuXHRcdHRoaXMuZ2VuZXJhdGVOdW1iZXIoKTtcclxuXHR9XHJcblx0Z2VuZXJhdGVOdW1iZXIoKSB7XHJcblx0XHR0aGlzLmN1cnJlbnROdW1iZXIgPSB0aGlzLmdldFJhbmRvbU51bWJlcigpO1xyXG5cdFx0dGhpcy5VSS5yZW5kZXJOdW1iZXIodGhpcy5jdXJyZW50TnVtYmVyKTtcclxuXHR9XHJcblx0Y2hlY2tBbnN3ZXIoYW5zd2VyKSB7XHJcblx0XHR0aGlzLmxhc3ROdW1iZXIgPSB0aGlzLmN1cnJlbnROdW1iZXI7XHJcblx0XHR0aGlzLm51bWJlcnNHdWVzc2VkLnB1c2godGhpcy5jdXJyZW50TnVtYmVyKTtcclxuXHJcblx0XHRpZihhbnN3ZXIgPT0gJ2hpZ2hlcicpIHtcclxuXHRcdFx0dGhpcy5taW5OdW1iZXIgPSB0aGlzLmxhc3ROdW1iZXI7XHJcblx0XHR9IGVsc2UgaWYoYW5zd2VyID09ICdsb3dlcicpIHtcclxuXHRcdFx0dGhpcy5tYXhOdW1iZXIgPSB0aGlzLmxhc3ROdW1iZXI7XHJcblx0XHR9IGVsc2UgaWYoYW5zd2VyID09ICdjb3JyZWN0Jykge1xyXG5cdFx0XHR0aGlzLnNldFN0YXR1cygnV2luJyk7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmKHRoaXMubWluTnVtYmVyKzEgPj0gdGhpcy5tYXhOdW1iZXIpIHtcclxuXHRcdFx0dGhpcy5zZXRTdGF0dXMoJ0ltcG9zc2libGUnKTtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5nZW5lcmF0ZU51bWJlcigpO1xyXG5cdH1cclxuXHRnZXRSYW5kb21OdW1iZXIoKSB7XHJcblx0XHRkbyB7XHJcblx0XHRcdHZhciBudW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAodGhpcy5tYXhOdW1iZXIgLSB0aGlzLm1pbk51bWJlciArIDEpKSArIHRoaXMubWluTnVtYmVyO1xyXG5cdFx0fSB3aGlsZSh0aGlzLm51bWJlcnNHdWVzc2VkLmluY2x1ZGVzKG51bWJlcikgJiYgdGhpcy5taW5OdW1iZXIgPCB0aGlzLm1heE51bWJlcik7XHJcblx0XHRyZXR1cm4gbnVtYmVyO1xyXG5cdH1cclxufSIsImltcG9ydCB7IEdhbWUgfSBmcm9tICcuL2pzL2NsYXNzLkdhbWUuanMnO1xyXG5cclxudmFyIGdhbWUgPSBuZXcgR2FtZTtcclxuZ2FtZS5pbml0KCk7Il0sIm5hbWVzIjpbIlVJRWxlbWVudCIsImVsZW1lbnQiLCJ0YXJnZXQiLCJ0YXJnZXRFbGVtZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiYXBwZW5kQ2hpbGQiLCJCdXR0b24iLCJpZCIsImNsYXNzTmFtZSIsInRleHQiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJUZXh0Iiwic2V0QXR0cmlidXRlIiwiY2xhc3NMaXN0IiwiYWRkIiwiZXZlbnQiLCJjYWxsYmFjayIsImFkZEV2ZW50TGlzdGVuZXIiLCJUZXh0IiwiTnVtYmVyRmllbGQiLCJVSUhhbmRsZXIiLCJidXR0b25zIiwibnVtYmVyRmllbGQiLCJtYWluTWVudSIsImludHJvIiwic3RhcnQiLCJnYW1lUGxheSIsImluR2FtZSIsImhpZ2hlciIsImNvcnJlY3QiLCJsb3dlciIsIkltcG9zc2libGUiLCJpbXBvc3NpYmxlIiwicmVzdGFydCIsIldpbiIsIndpbiIsImlubmVySFRNTCIsImdhbWVTdGF0dXMiLCJjbGVhciIsIngiLCJmb3JFYWNoIiwicmVuZGVyIiwibnVtYmVyIiwiR2FtZSIsInN0YXR1cyIsImxhc3ROdW1iZXIiLCJjdXJyZW50TnVtYmVyIiwibnVtYmVyc0d1ZXNzZWQiLCJtaW5OdW1iZXIiLCJtYXhOdW1iZXIiLCJVSSIsIl90aGlzIiwic2V0U3RhdHVzIiwic3RhcnRHYW1lIiwiY2hlY2tBbnN3ZXIiLCJuZXdTdGF0dXMiLCJnZXRTdGF0dXMiLCJnZW5lcmF0ZU51bWJlciIsImdldFJhbmRvbU51bWJlciIsInJlbmRlck51bWJlciIsImFuc3dlciIsInB1c2giLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJpbmNsdWRlcyIsImdhbWUiLCJpbml0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFBYUEsU0FBYjtzQkFDZTs7O09BQ1JDLE9BQUw7Ozs7O3lCQUVNQyxNQUpSLEVBSWdCO09BQ1hBLE1BQUgsRUFBVztRQUNOQyxnQkFBZ0JDLFNBQVNDLHNCQUFULENBQWdDSCxNQUFoQyxFQUF3QyxDQUF4QyxDQUFwQjtRQUNHQyxhQUFILEVBQWtCO21CQUNIRyxXQUFkLENBQTBCLEtBQUtMLE9BQS9COzs7Ozs7OztJQ05TTTs7O2lCQUNBQyxFQUFaLEVBQWdCQyxTQUFoQixFQUEyQkMsSUFBM0IsRUFBaUM7Ozs7O1FBRTNCVCxPQUFMLEdBQWVHLFNBQVNPLGFBQVQsQ0FBdUIsUUFBdkIsQ0FBZjtRQUNLVixPQUFMLENBQWFXLFNBQWIsR0FBeUJGLElBQXpCO1FBQ0tULE9BQUwsQ0FBYVksWUFBYixDQUEwQixJ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
